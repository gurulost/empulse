import{b as t,r as W,e as i,f as n,g as e,j as u,u as E,k as o,l as a,m as T,p as V}from"./vendor-vue-B_7dnjM8.js";import{_ as j}from"./_plugin-vue_export-helper-DlAUqK2U.js";const z="/build/assets/empulse-logo-CZ9eJs8T.png",P={class:"d-flex align-items-center mb-4 px-2"},D={href:"/",class:"d-flex align-items-center text-white text-decoration-none"},I=["src"],O={class:"nav nav-pills flex-column mb-auto gap-2"},U={class:"nav-item"},q=["href"],H={key:0},J={key:1},L={key:2},Z={key:3},$={key:4},F={key:5},G={key:6},K={class:"mt-auto pt-4 border-top border-white-10"},Q={class:"dropdown"},X={href:"#",class:"d-flex align-items-center text-white text-decoration-none dropdown-toggle p-2 rounded hover-glass",id:"dropdownUser2","data-bs-toggle":"dropdown","aria-expanded":"false"},Y=["src"],ee={class:"d-flex flex-column"},se={class:"fs-sm"},le={class:"dropdown-menu dropdown-menu-dark text-small shadow-lg border-0 glass-dark","aria-labelledby":"dropdownUser2"},te={__name:"AppSidebar",props:{user:{type:Object,required:!0},currentRoute:{type:String,default:""}},setup(k){const r=k,b=t(()=>{var l;return Number(((l=r.user)==null?void 0:l.role)??0)}),m=t(()=>String(r.currentRoute??"")),g=t(()=>{var l,s;return Number(((l=r.user)==null?void 0:l.is_admin)??0)===1||Number(((s=r.user)==null?void 0:s.role)??0)===0}),x=t(()=>{var l;return((l=r.user)==null?void 0:l.name)??""}),y=t(()=>{var l;return(l=r.user)!=null&&l.image?`/upload/${r.user.image}`:"/upload/no_image.jpg"}),v=t(()=>b.value===4),p=t(()=>b.value===1),f=t(()=>{var l;return Number(((l=r.user)==null?void 0:l.company_id)??0)>0}),w=t(()=>!v.value&&f.value),_=t(()=>!v.value&&f.value),S=t(()=>p.value),C=t(()=>p.value),A=t(()=>p.value),N=t(()=>v.value?"/employee":"/home"),B=t(()=>v.value?d("employee"):m.value==="home"||m.value==="dashboard.analytics"),c=W(!1),d=l=>m.value.startsWith(l),M=()=>{c.value=!c.value},h=()=>{c.value=!1},R=()=>{document.getElementById("logout-form").submit()};return(l,s)=>(n(),i("div",null,[e("button",{class:"btn btn-light d-md-none position-fixed top-0 start-0 m-3 shadow-sm z-3",onClick:M,style:{"z-index":"1050"}},[...s[0]||(s[0]=[e("i",{class:"bi bi-list fs-4"},null,-1)])]),c.value?(n(),i("div",{key:0,class:"sidebar-backdrop d-md-none",onClick:h})):u("",!0),e("div",{class:o(["app-sidebar d-flex flex-column flex-shrink-0 p-4 text-white h-100",{show:c.value}])},[e("div",P,[e("a",D,[e("img",{src:E(z),alt:"Empulse",height:"40"},null,8,I)]),e("button",{class:"btn btn-sm btn-link text-white-50 d-md-none ms-auto",onClick:h},[...s[1]||(s[1]=[e("i",{class:"bi bi-x-lg"},null,-1)])])]),s[14]||(s[14]=e("div",{class:"nav-spacer mb-4"},null,-1)),e("ul",O,[e("li",U,[e("a",{href:N.value,class:o(["nav-link",{active:B.value}])},[...s[2]||(s[2]=[e("i",{class:"bi bi-speedometer2 me-3"},null,-1),a(" Dashboard ",-1)])],10,q)]),w.value?(n(),i("li",H,[e("a",{href:"/reports",class:o(["nav-link",{active:d("reports")}])},[...s[3]||(s[3]=[e("i",{class:"bi bi-graph-up me-3"},null,-1),a(" Analytics & Reports ",-1)])],2)])):u("",!0),S.value?(n(),i("li",J,[e("a",{href:"/surveys/manage",class:o(["nav-link",{active:m.value==="surveys.manage"}])},[...s[4]||(s[4]=[e("i",{class:"bi bi-ui-checks-grid me-3"},null,-1),a(" Survey Management ",-1)])],2)])):u("",!0),C.value?(n(),i("li",L,[e("a",{href:"/survey-waves",class:o(["nav-link",{active:d("survey-waves.")}])},[...s[5]||(s[5]=[e("i",{class:"bi bi-calendar2-week me-3"},null,-1),a(" Survey Waves ",-1)])],2)])):u("",!0),_.value?(n(),i("li",Z,[e("a",{href:"/team/manage",class:o(["nav-link",{active:d("team.")}])},[...s[6]||(s[6]=[e("i",{class:"bi bi-people me-3"},null,-1),a(" Team ",-1)])],2)])):u("",!0),A.value?(n(),i("li",$,[e("a",{href:"/account/billing",class:o(["nav-link",{active:d("billing.")||d("plans.")}])},[...s[7]||(s[7]=[e("i",{class:"bi bi-credit-card me-3"},null,-1),a(" Billing ",-1)])],2)])):u("",!0),g.value?(n(),i("li",F,[e("a",{href:"/admin",class:o(["nav-link",{active:d("admin")}])},[...s[8]||(s[8]=[e("i",{class:"bi bi-shield-lock me-3"},null,-1),a(" Admin Panel ",-1)])],2)])):u("",!0),g.value?(n(),i("li",G,[e("a",{href:"/admin/builder",class:o(["nav-link",{active:d("admin.builder")}])},[...s[9]||(s[9]=[e("i",{class:"bi bi-ui-checks me-3"},null,-1),a(" Survey Builder ",-1)])],2)])):u("",!0)]),e("div",K,[e("div",Q,[e("a",X,[e("img",{src:y.value,alt:"",width:"32",height:"32",class:"rounded-circle me-3 border border-2 border-white-20"},null,8,Y),e("div",ee,[e("strong",se,T(x.value),1),s[10]||(s[10]=e("span",{class:"text-white-50 fs-xs"},"View Profile",-1))])]),e("ul",le,[s[12]||(s[12]=e("li",null,[e("a",{class:"dropdown-item",href:"/profile"},[e("i",{class:"bi bi-person me-2"}),a("Profile")])],-1)),s[13]||(s[13]=e("li",null,[e("hr",{class:"dropdown-divider border-white-10"})],-1)),e("li",null,[e("a",{class:"dropdown-item text-danger",href:"#",onClick:V(R,["prevent"])},[...s[11]||(s[11]=[e("i",{class:"bi bi-box-arrow-right me-2"},null,-1),a("Sign out",-1)])])])])])])],2)]))}},ne=j(te,[["__scopeId","data-v-3e5a0328"]]);export{ne as default};
